/// Stores grammar rules and their metadata
model grammar_rules {
  /// Unique identifier for the grammar rule
  id          Int     @id @default(autoincrement())
  /// Type of grammar rule (e.g., "spelling", "punctuation", etc.)
  type        String?
  /// Detailed description of the grammar rule
  description String?

  // Relations
  /// Associated grammar rule instances
  rules rules[]
}

/// Contains specific rule instances and their correction suggestions
model rules {
  /// Unique identifier for the rule
  id                Int     @id @default(autoincrement())
  /// The word or phrase to check for
  keyword           String?
  /// The suggested replacement for the keyword
  replace_keyword   String?
  /// Description of the error this rule catches
  error_description String?
  /// Foreign key reference to grammar_rules
  grammar_rule_id   Int?

  // Relations
  /// Reference to the parent grammar rule
  grammar_rule grammar_rules? @relation(fields: [grammar_rule_id], references: [id])
}

/// Stores complete sentences for language processing
model sentences {
  /// Unique identifier for the sentence
  id         Int       @id @default(autoincrement())
  /// The actual text content of the sentence
  text       String?
  /// Timestamp when the sentence was created
  created_at DateTime?

  /// Foreign key reference to datasources
  datasource_id Int?

  // Relations
  /// Individual words that make up this sentence
  words      words[]
  /// Reference to the datasource
  datasource datasources? @relation(fields: [datasource_id], references: [id])
}

/// Contains individual words and their positions within sentences
model words {
  /// Unique identifier for the word
  id          Int     @id @default(autoincrement())
  /// Foreign key reference to sentences
  sentence_id Int?
  /// The actual word text
  text        String? @unique
  /// Position of the word in the sentence
  position    Int?

  // Relations
  /// Reference to the parent sentence
  sentence    sentences?    @relation(fields: [sentence_id], references: [id])
  /// Groups where this word appears as the previous word
  prev_groups word_groups[] @relation("prev_word")
  /// Groups where this word appears as the next word
  next_groups word_groups[] @relation("next_word")

  // Index for sentence_id
  @@index([sentence_id])
}

/// Represents pairs of words and their statistical relationships
model word_groups {
  /// Foreign key reference to the previous word
  prev_id Int
  /// Foreign key reference to the next word
  next_id Int
  /// Weight/probability score for this word pair
  weight  Float?
  
  // occurance count
  occurance Int @default(0)

  // Relations
  /// Reference to the previous word in the pair
  prev_word words @relation("prev_word", fields: [prev_id], references: [id])
  /// Reference to the next word in the pair
  next_word words @relation("next_word", fields: [next_id], references: [id])

  @@id([prev_id, next_id])
}

/// Part-of-Speech (POS) tags based on Universal Dependencies (UD) v2 specification
/// Source: https://universaldependencies.org/u/pos/
enum pos_tag {
  /// Nouns are words denoting all physical objects and materials
  /// Example: cat, rock, intelligence (বিড়াল/biral, পাথর/pathor, বুদ্ধি/buddhi)
  NOUN
  /// Verbs are words denoting actions and processes
  /// Example: run, eat, think (দৌড়ানো/dourano, খাওয়া/khawa, ভাবা/bhaba)
  VERB
  /// Adjectives are words that typically modify nouns
  /// Example: big, old, green, incomprehensible (বড়/boro, পুরানো/purano, সবুজ/sobuj)
  ADJ
  /// Adverbs are words that typically modify verbs, adjectives or other adverbs
  /// Example: very, well, exactly (খুব/khub, ভালোভাবে/bhalobhabe, ঠিক/thik)
  ADV
  /// Determiners are words that modify nouns or noun phrases
  /// Example: the, a, an, this (টি/ti, টা/ta, এই/ei)
  DET
  /// Pronouns are words that substitute for nouns or noun phrases
  /// Example: I, you, he, she (আমি/ami, তুমি/tumi, সে/se)
  PRON
  /// Adpositions are prepositions and postpositions
  /// Example: in, to, during (মধ্যে/moddhe, থেকে/theke, জন্য/jonno)
  ADP
  /// Coordinating and subordinating conjunctions
  /// Example: and, but, or, if, while (এবং/ebong, কিন্তু/kintu, বা/ba)
  CONJ
  /// Punctuation marks
  /// Example: ., ?, !, , (।, ?, !, ,)
  PUNCT
  /// Cardinal numbers, ordinal numbers and other types of numeric expressions
  /// Example: 1, one, first (১/1, এক/ek, প্রথম/prothom)
  NUM
  /// Interjections are words used as exclamations
  /// Example: oh, wow, ouch (ওহ/oh, বাহ/bah, উফ/uf)
  PART
  /// Particles are function words that must be associated with another word
  /// Example: not, to (না/na, তো/to)
  SYM
  /// Other words that cannot be classified
  /// Example: foreign words, abbreviations (etc/ইত্যাদি/ittyadi)
  X
}

/// Named Entity Recognition (NER) tags based on CoNLL-2003 shared task specification
/// Source: https://www.clips.uantwerpen.be/conll2003/ner/
enum ner_tag {
  /// Names of persons (e.g., "John Smith", "আব্দুল করিম")
  PERSON
  /// Names of organizations (e.g., "United Nations", "বাংলাদেশ সরকার") 
  ORGANIZATION
  /// Names of locations/geo-political entities (e.g., "Paris", "ঢাকা")
  LOCATION
  /// Temporal expressions - dates (e.g., "June 1st, 2024", "১লা বৈশাখ")
  DATE
  /// Temporal expressions - times (e.g., "3:30 PM", "সকাল ৯টা")
  TIME
  /// Monetary values and quantities (e.g., "$100", "১০০ টাকা")
  MONEY
  /// Percentages and other numerical quantities (e.g., "50%", "১০ কেজি") 
  QUANTITY
  /// Names of products and services (e.g., "iPhone", "পদ্মা সেতু")
  PRODUCT
  /// Names of events (e.g., "World War II", "মুক্তিযুদ্ধ")
  EVENT
  /// Works of art, books, songs etc. (e.g., "Hamlet", "পথের পাঁচালী")
  WORK_OF_ART
  /// Laws, regulations, official documents (e.g., "Constitution", "সংবিধান")
  LAW
  /// Languages and nationalities (e.g., "English", "বাঙালি")
  LANGUAGE
}